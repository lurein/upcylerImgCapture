import{E as L,R as W,b as J,e as Q,d as X,g as Y,i as Z,f as ee,h as ae,j as te,k as ne,m as se,l as re,p as oe,r as ie,n as ce,q as D,s as le,t as de,u as ue,v as fe,w as ve,x as pe,y as he,z as me,A as ye,B as ge,C as be,D as we,F as _e,G as Ce,H as M,I as Se,J as Ee,K as Re,L as xe,M as Te,S as ke,N as Ve,T as De,O as Me,P as Be,Q as Ne,U as Pe,V as je,W as Ae,X as Ie,Y as Oe,c as B,a as C,Z as Ue,$ as $e,a0 as He,a1 as ze,a2 as Fe,a3 as qe,a4 as N,a5 as Ke,a6 as P,a7 as Ge,a8 as Le,a9 as We,aa as Je,ab as Qe,ac as Xe,ad as Ye,ae as Ze,af as ea,ag as aa,ah as ta,ai as na,aj as sa,ak as ra,al as oa,am as ia,an as ca,ao as la,ap as da,aq as ua,ar as fa,as as va,at as pa,au as ha,av as ma,aw as ya,ax as ga,ay as ba,az as wa,o as j,aA as _a,aB as Ca,aC as Sa,aD as Ea,aE as Ra,aF as xa,aG as Ta,aH as A,aI as ka,aJ as Va,aK as Da,aL as Ma,aM as Ba,aN as Na,aO as Pa,aP as ja,aQ as Aa,aR as Ia,aS as Oa,aT as Ua,aU as $a,aV as Ha,aW as za,aX as Fa,aY as qa,aZ as Ka,a_ as Ga,a$ as La,b0 as Wa,b1 as Ja,b2 as Qa,b3 as Xa,b4 as Ya,b5 as Za,b6 as et,b7 as at,b8 as tt,b9 as nt,ba as st,bb as rt,bc as ot,bd as it,be as ct,bf as lt,bg as dt,bh as ut,bi as ft,bj as vt,bk as pt,bl as ht,bm as mt,bn as yt,bo as gt,bp as bt,bq as wt,_ as _t}from"./index.04f58e18.js";const Ct=()=>{},St=Object.freeze(Object.defineProperty({__proto__:null,compile:Ct,EffectScope:L,ReactiveEffect:W,customRef:J,effect:Q,effectScope:X,getCurrentScope:Y,isProxy:Z,isReactive:ee,isReadonly:ae,isRef:te,isShallow:ne,markRaw:se,onScopeDispose:re,proxyRefs:oe,reactive:ie,readonly:ce,ref:D,shallowReactive:le,shallowReadonly:de,shallowRef:ue,stop:fe,toRaw:ve,toRef:pe,toRefs:he,triggerRef:me,unref:ye,camelize:ge,capitalize:be,normalizeClass:we,normalizeProps:_e,normalizeStyle:Ce,toDisplayString:M,toHandlerKey:Se,BaseTransition:Ee,Comment:Re,Fragment:xe,KeepAlive:Te,Static:ke,Suspense:Ve,Teleport:De,Text:Me,callWithAsyncErrorHandling:Be,callWithErrorHandling:Ne,cloneVNode:Pe,compatUtils:je,computed:Ae,createBlock:Ie,createCommentVNode:Oe,createElementBlock:B,createElementVNode:C,createHydrationRenderer:Ue,createPropsRestProxy:$e,createRenderer:He,createSlots:ze,createStaticVNode:Fe,createTextVNode:qe,createVNode:N,defineAsyncComponent:Ke,defineComponent:P,defineEmits:Ge,defineExpose:Le,defineProps:We,get devtools(){return Je},getCurrentInstance:Qe,getTransitionRawChildren:Xe,guardReactiveProps:Ye,h:Ze,handleError:ea,initCustomFormatter:aa,inject:ta,isMemoSame:na,isRuntimeOnly:sa,isVNode:ra,mergeDefaults:oa,mergeProps:ia,nextTick:ca,onActivated:la,onBeforeMount:da,onBeforeUnmount:ua,onBeforeUpdate:fa,onDeactivated:va,onErrorCaptured:pa,onMounted:ha,onRenderTracked:ma,onRenderTriggered:ya,onServerPrefetch:ga,onUnmounted:ba,onUpdated:wa,openBlock:j,popScopeId:_a,provide:Ca,pushScopeId:Sa,queuePostFlushCb:Ea,registerRuntimeCompiler:Ra,renderList:xa,renderSlot:Ta,resolveComponent:A,resolveDirective:ka,resolveDynamicComponent:Va,resolveFilter:Da,resolveTransitionHooks:Ma,setBlockTracking:Ba,setDevtoolsHook:Na,setTransitionHooks:Pa,ssrContextKey:ja,ssrUtils:Aa,toHandlers:Ia,transformVNodeArgs:Oa,useAttrs:Ua,useSSRContext:$a,useSlots:Ha,useTransitionState:za,version:Fa,warn:qa,watch:Ka,watchEffect:Ga,watchPostEffect:La,watchSyncEffect:Wa,withAsyncContext:Ja,withCtx:Qa,withDefaults:Xa,withDirectives:Ya,withMemo:Za,withScopeId:et,Transition:at,TransitionGroup:tt,VueElement:nt,createApp:st,createSSRApp:rt,defineCustomElement:ot,defineSSRCustomElement:it,hydrate:ct,initDirectivesForSSR:lt,render:dt,useCssModule:ut,useCssVars:ft,vModelCheckbox:vt,vModelDynamic:pt,vModelRadio:ht,vModelSelect:mt,vModelText:yt,vShow:gt,withKeys:bt,withModifiers:wt},Symbol.toStringTag,{value:"Module"}));var Et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rt(d){var v=d.default;if(typeof v=="function"){var o=function(){return v.apply(this,arguments)};o.prototype=v.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(d).forEach(function(f){var m=Object.getOwnPropertyDescriptor(d,f);Object.defineProperty(o,f,m.get?m:{enumerable:!0,get:function(){return d[f]}})}),o}var I={exports:{}};const xt=Rt(St);(function(d,v){(function(o,f){d.exports=f(xt)})(Et,function(o){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */function f(i,p,s,r){function n(e){return e instanceof s?e:new s(function(c){c(e)})}return new(s||(s=Promise))(function(e,c){function y(l){try{a(r.next(l))}catch(w){c(w)}}function b(l){try{a(r.throw(l))}catch(w){c(w)}}function a(l){l.done?e(l.value):n(l.value).then(y,b)}a((r=r.apply(i,p||[])).next())})}function m(i,p){var s={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},r,n,e,c;return c={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function y(a){return function(l){return b([a,l])}}function b(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(e=a[0]&2?n.return:a[0]?n.throw||((e=n.return)&&e.call(n),0):n.next)&&!(e=e.call(n,a[1])).done)return e;switch(n=0,e&&(a=[a[0]&2,e.value]),a[0]){case 0:case 1:e=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(e=s.trys,!(e=e.length>0&&e[e.length-1])&&(a[0]===6||a[0]===2)){s=0;continue}if(a[0]===3&&(!e||a[1]>e[0]&&a[1]<e[3])){s.label=a[1];break}if(a[0]===6&&s.label<e[1]){s.label=e[1],e=a;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(a);break}e[2]&&s.ops.pop(),s.trys.pop();continue}a=p.call(i,s)}catch(l){a=[6,l],n=0}finally{r=e=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var g=o.defineComponent({name:"Camera",components:{},emits:["loading","started","stopped","paused","resumed","camera-change","snapshot","error"],props:{resolution:{type:Object,default:function(){return{width:1920,height:1080}}},facingMode:{type:String,default:"environment"},autoplay:{type:Boolean,default:!0},playsinline:{type:Boolean,default:!0},constraints:{type:Object,required:!1}},setup:function(i,p){var s=this,r=p.emit;o.onMounted(function(){if(!navigator.mediaDevices)throw new Error("Media devices not available");var t=document.getElementById("video");i.playsinline&&t&&t.setAttribute("playsinline",""),i.autoplay&&l()}),o.onUnmounted(function(){return R()});var n=o.ref(),e=o.ref(),c=o.ref(),y=i.constraints||{video:{width:i.resolution.width,height:i.resolution.height,facingMode:i.facingMode,deviceId:{}},audio:!1},b=function(t){return t===void 0&&(t=["audioinput","videoinput"]),f(s,void 0,void 0,function(){var u;return m(this,function(h){switch(h.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:return u=h.sent(),[2,u.filter(function(_){return t.includes(_.kind)})]}})})},a=function(){if(!!c.value){var t=c.value.getVideoTracks().map(function(u){return u.getSettings().deviceId});if(t.length>0)return t[0]}},l=function(){return f(s,void 0,void 0,function(){var t,u;return m(this,function(h){switch(h.label){case 0:r("loading"),h.label=1;case 1:return h.trys.push([1,3,,4]),t=c,[4,navigator.mediaDevices.getUserMedia(y)];case 2:if(t.value=h.sent(),!n.value)throw new Error("Video ref is null");return n.value.srcObject=c.value,r("started"),[3,4];case 3:return u=h.sent(),r("error",u),[3,4];case 4:return[2]}})})},w=function(t,u,h){var _;if(t===void 0&&(t=i.resolution),u===void 0&&(u="image/png"),!n.value)throw new Error("Video ref is null");if(!e.value)throw new Error("Canvas ref is null");var T=t.width,k=t.height;return e.value.width=T,e.value.height=k,(_=e.value.getContext("2d"))===null||_===void 0||_.drawImage(n.value,0,0,T,k),new Promise(function(G){var x;(x=e.value)===null||x===void 0||x.toBlob(function(V){r("snapshot",V),G(V)},u,h)})},F=function(t){R(),y.video.deviceId.exact=t,l(),r("camera-change",t)},q=function(){var t;(t=n.value)===null||t===void 0||t.play(),r("resumed")},K=function(){var t;(t=n.value)===null||t===void 0||t.pause(),r("paused")},R=function(){var t;(t=c.value)===null||t===void 0||t.getTracks().forEach(function(u){return u.stop()}),r("stopped")};return{start:l,stop:R,video:n,snapshot:w,canvas:e,devices:b,currentDeviceID:a,pause:K,resume:q,changeCamera:F,stream:c}}});const S={id:"camera-container"},E={autoplay:"",ref:"video",id:"video"},O={id:"slot-container"},U={ref:"canvas",id:"canvas"};function $(i,p,s,r,n,e){return o.openBlock(),o.createElementBlock(o.Fragment,null,[o.createElementVNode("div",S,[o.createElementVNode("video",E,null,512),o.createElementVNode("div",O,[o.renderSlot(i.$slots,"default")])]),o.createElementVNode("canvas",U,null,512)],64)}function H(i,p){p===void 0&&(p={});var s=p.insertAt;if(!(!i||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",s==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}}var z=`
#camera-container[data-v-74104ed5] {
    position: relative;
    width: 100%;
    height: 100%;
}
#slot-container[data-v-74104ed5] {
    position: absolute;
    height: 100%;
    width: 100%;
    left: 0;
    top: 0;
}
#video[data-v-74104ed5] {
    width: 100%;
    height: 100%;
}
#canvas[data-v-74104ed5] {
    display: none;
}
`;return H(z),g.render=$,g.__scopeId="data-v-74104ed5",g.__file="src/components/Camera.vue",g})})(I);const Tt=I.exports,kt=P({data(){return{blobUrl:""}},components:{Camera:Tt},setup(){const d=D();var v="";return{camera:d,snapshot:async()=>{var m;const f=await((m=d.value)==null?void 0:m.snapshot());v=URL.createObjectURL(f)},url:v}},mounted(){console.log("mountedy")}});const Vt={class:"about"},Dt=C("h1",null,"Capture an image of your t-shirt",-1);function Mt(d,v,o,f,m,g){const S=A("camera");return j(),B("div",Vt,[Dt,C("h1",null,M(d.url),1),N(S,{resolution:{width:375,height:812},autoplay:""}),C("button",{onClick:v[0]||(v[0]=(...E)=>d.snapshot&&d.snapshot(...E))},"Create snapshot")])}const Nt=_t(kt,[["render",Mt]]);export{Nt as default};
